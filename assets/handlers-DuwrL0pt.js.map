{"version":3,"file":"handlers-DuwrL0pt.js","sources":["../../src/js/products-api.js","../../src/js/refs.js","../../src/js/storage.js","../../src/js/render-function.js","../../src/js/handlers.js"],"sourcesContent":["// Функції для роботи з бекендом\n\nimport axios from 'axios';\n// Добавляємо базовий URL для всіх запитів\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n// Функція для отримання категорій\nexport async function getCategories() {\n  const { data } = await axios.get('/category-list');\n  return data;\n}\n// Функція для отримання продуктів за категорією\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProductsByCategory(category, page = 1) {\n  const { data } = await axios.get(\n    `/category/${category}?limit=12&skip=${(page - 1) * 12}`\n  );\n  return data;\n}\n// Функція для отримання всіх продуктів\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProducts(page = 1) {\n  const { data } = await axios.get(`?limit=12&skip=${(page - 1) * 12}`);\n  return data;\n}\n// Функція для отримання продукту за ID\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProductById(id) {\n  const { data } = await axios.get(`/${id}`);\n  return data;\n}\n// Функція для отримання продуктів за запитом\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProductsByQuery(query, page = 1) {\n  const { data } = await axios.get(\n    `/search?q=${query}&limit=12&skip=${(page - 1) * 12}`\n  );\n  return data;\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  notFound: document.querySelector('.not-found'),\n  searchFormBtnClear: document.querySelector('.search-form__btn-clear'),\n  addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n  cartCount: document.querySelector('span[data-cart-count]'),\n  addToWishlistBtn: document.querySelector('.modal-product__btn--wishlist'),\n  wishlistCount: document.querySelector('span[data-wishlist-count]'),\n  cartSummaryItem: document.querySelector('span[data-count]'),\n  cartSummaryPrice: document.querySelector('span[data-price]'),\n};\n","//Робота з loacalStorage\nexport function saveToStorage(key, value) {\n    // Получаем текущие данные из localStorage\n    let existingData = getFromStorage(key) || [];\n    \n    // Проверяем, является ли existingData массивом\n    if (!Array.isArray(existingData)) {\n        existingData = [existingData]; // Преобразуем в массив, если это не массив\n    }\n    \n    // Добавляем новое значение к текущим данным\n    existingData.push(value);\n    \n    // Сохраняем обновлённый массив обратно в localStorage\n    localStorage.setItem(key, JSON.stringify(existingData));\n}\n\nexport function getFromStorage(key) {\n    const value = localStorage.getItem(key);\n    return value ? JSON.parse(value) : null;\n};\nexport function removeFromStorage(key, value) {\n    // Получаем текущие данные из localStorage\n    let existingData = getFromStorage(key) || [];\n    \n    // Проверяем, является ли existingData массивом\n    if (!Array.isArray(existingData)) {\n        existingData = [existingData]; // Преобразуем в массив, если это не массив      \n    }\n    \n    // Удаляем значение из массива\n    existingData = existingData.filter(item => item !== value);\n    \n    // Сохраняем обновлённый массив обратно в localStorage\n    localStorage.setItem(key, JSON.stringify(existingData));\n    if (existingData.length === 0) {\n        // Если массив пустой, удаляем ключ из localStorage\n        // localStorage.removeItem(key);\n    }\n    \n}","//Функцію для створення, рендеру або видалення розмітки\nimport { getProductById } from './products-api';\nimport { refs } from './refs';\nimport { getFromStorage } from './storage';\n\n\nexport function renderCategories(categories) {\n  const categoriesAll = ['All', ...categories];\n  const markup = categoriesAll\n    .map(\n      category => `\n        <li class=\"categories__item\">\n            <button class=\"categories__btn\" type=\"button\">${category}</button>\n        </li>\n        `\n    )\n    .join('');\n\n  refs.categoriesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      ({ id, title, thumbnail, brand, category, price }) => `\n         <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n          `\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProductById(product){\n  refs.modalProduct.id = product.id;\nconst markup = `<img class=\"modal-product__img\" src=\"${product.images[0]}\" alt=\"\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${product.title}</p>\n        <ul class=\"modal-product__tags\">${product.tags.map(tag => `<li class=\"modal-product__tag\">${tag}</li>`).join('')}</ul>\n        <p class=\"modal-product__description\">${product.description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${product.shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${product.returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${product.price} $</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>`\nrefs.modalProduct.innerHTML = markup;\nconsole.log(product);\n\n}\nexport function clearProductsList() {\n  refs.productsList.innerHTML = '';\n}\n\nexport async function renderAsideCart() {\n  const cart = getFromStorage('cart');\n  if (cart) {\n    refs.cartCount.textContent = cart.length;\n    refs.cartSummaryItem.textContent = cart.length;\n    const products = await Promise.all(cart.map(id => getProductById(id)));\n    const totalPrice = products.reduce((acc, product) => acc + product.price, 0).toFixed(2); // Округляем до 2 знаков\n    refs.cartSummaryPrice.textContent = totalPrice;\n  } else {\n    refs.cartCount.textContent = 0;\n  }\n}","// Функції, які передаються колбеками в addEventListners\nimport iziToast from 'izitoast';\nimport { getCategories, getProductById, getProducts, getProductsByCategory, getProductsByQuery } from './products-api';\nimport { refs } from './refs';\nimport { clearProductsList, renderAsideCart, renderCategories, renderProductById, renderProducts } from './render-function';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getFromStorage, removeFromStorage, saveToStorage } from './storage';\n\n// Функція викликається при завантаженні сторінки\nexport async function onDOMContentLoaded() {\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n\n    const { products } = await getProducts();\n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n  }\n  const cart = getFromStorage('cart');\n  if (cart) {\n    refs.cartCount.textContent = cart.length;\n  } else {\n    refs.cartCount.textContent = 0;\n  }\n  const wishlist = getFromStorage('wishlist');\n  if (wishlist) {\n    refs.wishlistCount.textContent = wishlist.length;\n  }\n  else {\n    refs.wishlistCount.textContent = 0;\n  }\n}\n// Функція викликається при кліку на категорію\nexport async function onCategoryClick(event) {\n  try {\n    if (event.target.tagName !== 'BUTTON') {\n      return;   \n    }\n    const category = event.target.textContent;\n    const categoryBtn = event.target\n    const notFound = document.querySelector('.not-found');\n    console.log(category)\n    if (category === 'All') {\n      const { products } = await getProducts();\n      console.log('all',products);\n      \n      renderProducts(products);\n      return;\n    }\n    const { products } = await getProductsByCategory(category);\n    console.log(products.length);\n    \n    if (products.length === 0) {\n      console.log('notFound');\n      notFound.classList.add('not-found--visible');\n      return;\n     };\n    categoryBtn.classList.add('categories__btn--active');\n    //TODO: remove\n    console.log(products);\n    console.log(categoryBtn);\n    \n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function onProductClick(event) {\n// console.log(event.target.closest('.products__item').classList.contains('products__item'));\n// console.log(event.target.closest('.products__item').classList.contains('products__item'));\n  if (!event.target.closest('.products__item')) {\n    return;\n  }console.log(event.target.closest('.products__item'));\n\nconsole.log(event.target.closest('.products__item'));\n  const productId = event.target.closest('.products__item').dataset.id;\n  const productInCart = await getFromStorage('cart')\n  const productInWishlist = await getFromStorage('wishlist')\n  console.log(productInCart);\n  if (productInCart && productInCart.includes(productId)) {\n    refs.addToCartBtn.textContent = 'Remove from cart';\n  } else {\n    refs.addToCartBtn.textContent = 'Add to cart';\n  }\n  if (productInWishlist && productInWishlist.includes(productId)) {\n    refs.addToWishlistBtn.textContent = 'Remove from Wishlist';\n  } else {\n    refs.addToWishlistBtn.textContent = 'Add to Wishlist';\n  }\n  const product = await getProductById(productId);\n  refs.modal.classList.add('modal--is-open');\n  renderProductById(product);\n\n  // Добавляем слушатель для клавиши Escape\n  document.addEventListener('keydown', onEscKeyPress);\n}\n\nexport function onModalCloseBtnClick() {\n  refs.modal.classList.remove('modal--is-open');\n\n  // Удаляем слушатель для клавиши Escape\n  document.removeEventListener('keydown', onEscKeyPress);\n}\n\nexport function onOverlayClick(event) {\n  if (event.target === event.currentTarget) {\n    refs.modal.classList.remove('modal--is-open');\n  }\n}\nexport function onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    refs.modal.classList.remove('modal--is-open');\n  }\n}\n\nexport async function onSearchFormSubmit(event) {\n  event.preventDefault();\n  console.log(event.target.elements.searchValue.value);\n  const searchValue = event.target.elements.searchValue.value.trim();\n  if (searchValue === '') {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search query',\n      position: 'topRight',\n      timeout: 3000,\n      \n    });\n    console.log('Please enter a search query');\n    \n    return;\n  }\n  const { products } = await getProductsByQuery(searchValue);\n  console.log(products);\n  if (products.length === 0) {\n    clearProductsList();\n    refs.notFound.classList.add('not-found--visible');\n    return;\n  };\n  clearProductsList();\n  renderProducts(products);\n}\n\nexport async function onSearchFormBtnClearClick() {\n  refs.searchForm.elements.searchValue.value = '';\n  if (refs.notFound.classList.contains('not-found--visible')) {\n    refs.notFound.classList.remove('not-found--visible');\n  }\n  clearProductsList();\n  const products  = await getProducts();\n  renderProducts(products.products);\n};\n\nexport function onAddToCartBtnClick(event) {\n  // console.log('add to cart');\n  // console.log(event.target);\n  const productId = event.target.closest('.modal__content').querySelector('.modal-product').id;\n  if (event.target.textContent === 'Remove from cart') {\n    removeFromStorage('cart', productId);\n    event.target.textContent='Add to cart';\n    const cart = getFromStorage('cart');\n    if (window.location.pathname === '/cart.html') {\n      // const products = getFromStorage('cart');\n      // console.log(products);\n      console.log('cart lenght',cart.length);\n      \n      if (cart.length === 0) {\n        refs.productsList.innerHTML = '<p>Cart is empty</p>';\n      } else {\n        const products= cart.map(async (id) => {\n          const product = await getProductById(id);\n          return product;\n        });\n        Promise.all(products).then((products) => {\n          clearProductsList();\n          renderProducts(products);\n          renderAsideCart();\n        });\n      }\n    }\n  \n    if (cart.length === 0) {\n      refs.cartCount.textContent = 0;\n    } else {\n      refs.cartCount.textContent = cart.length;\n    }\n\n  }else{\n  saveToStorage('cart', productId);\n  event.target.textContent='Remove from cart';}\n  const cart = getFromStorage('cart');\n  refs.cartCount.textContent = cart.length;\n  \n};\n\nexport function onAddToWishlistBtnClick(event) {\n  // console.log('add to wishlist');\n  // console.log(event.target);\n  const productId = event.target.closest('.modal__content').querySelector('.modal-product').id;\n  if (event.target.textContent === 'Remove from Wishlist') {\n    removeFromStorage('wishlist', productId);\n    event.target.textContent='Add to Wishlist';\n    const wishlist = getFromStorage('wishlist');\n    if (window.location.pathname === '/wishlist.html') {\n      // const products = getFromStorage('wishlist');\n      // console.log(products);\n      console.log('wishlist lenght',wishlist.length);\n      \n      if (wishlist.length === 0) {\n        refs.productsList.innerHTML = '<p>Wishlist is empty</p>';\n      } else {\n        const products= wishlist.map(async (id) => {\n          const product = await getProductById(id);\n          return product;\n        });\n        Promise.all(products).then((products) => {\n          clearProductsList();\n          renderProducts(products);\n        });\n      }\n    }\n    if (wishlist.length === 0) {\n      refs.wishlistCount.textContent = 0;\n    }\n    else {\n      refs.wishlistCount.textContent = wishlist.length;\n    }\n    \n  }else{\n  saveToStorage('wishlist', productId);\n  event.target.textContent='Remove from Wishlist';}\n  const wishlist = getFromStorage('wishlist');\n  refs.wishlistCount.textContent = wishlist.length;\n};"],"names":["axios","getCategories","data","getProductsByCategory","category","page","getProducts","getProductById","id","getProductsByQuery","query","refs","saveToStorage","key","value","existingData","getFromStorage","removeFromStorage","item","renderCategories","categories","markup","renderProducts","products","title","thumbnail","brand","price","renderProductById","product","tag","clearProductsList","renderAsideCart","cart","totalPrice","acc","onDOMContentLoaded","error","wishlist","onCategoryClick","event","categoryBtn","notFound","onProductClick","productId","productInCart","productInWishlist","onEscKeyPress","onModalCloseBtnClick","onOverlayClick","onSearchFormSubmit","searchValue","iziToast","onSearchFormBtnClearClick","onAddToCartBtnClick","onAddToWishlistBtnClick"],"mappings":"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"}