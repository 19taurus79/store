{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["// Функції для роботи з бекендом\n\nimport axios from 'axios';\n// Добавляємо базовий URL для всіх запитів\naxios.defaults.baseURL = 'https://dummyjson.com/products';\n// Функція для отримання категорій\nexport async function getCategories() {\n  const { data } = await axios.get('/category-list');\n  return data;\n}\n// Функція для отримання продуктів за категорією\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProductsByCategory(category, page = 1) {\n  const { data } = await axios.get(\n    `/category/${category}?limit=12&skip=${(page - 1) * 12}`\n  );\n  return data;\n}\n// Функція для отримання всіх продуктів\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProducts(page = 1) {\n  const { data } = await axios.get(`?limit=12&skip=${(page - 1) * 12}`);\n  return data;\n}\n// Функція для отримання продукту за ID\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProductById(id) {\n  const { data } = await axios.get(`/${id}`);\n  return data;\n}\n// Функція для отримання продуктів за запитом\n// Використовується пагінація для отримання 12 продуктів за раз\nexport async function getProductsByQuery(query, page = 1) {\n  const { data } = await axios.get(\n    `/search?q=${query}&limit=12&skip=${(page - 1) * 12}`\n  );\n  return data;\n}\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  modal: document.querySelector('.modal'),\n};\n","//Функцію для створення, рендеру або видалення розмітки\nimport { refs } from './refs';\n\n\nexport function renderCategories(categories) {\n  const categoriesAll = ['All', ...categories];\n  const markup = categoriesAll\n    .map(\n      category => `\n        <li class=\"categories__item\">\n            <button class=\"categories__btn\" type=\"button\">${category}</button>\n        </li>\n        `\n    )\n    .join('');\n\n  refs.categoriesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProducts(products) {\n  const markup = products\n    .map(\n      ({ id, title, thumbnail, brand, category, price }) => `\n         <li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n          `\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n","// Функції, які передаються колбеками в addEventListners\nimport { getCategories, getProducts, getProductsByCategory } from './products-api';\nimport { renderCategories, renderProducts } from './render-function';\n\n// Функція викликається при завантаженні сторінки\nexport async function onDOMContentLoaded() {\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n\n    const { products } = await getProducts();\n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n  }\n}\n// Функція викликається при кліку на категорію\nexport async function onCategoryClick(event) {\n  try {\n    if (event.target.tagName !== 'BUTTON') {\n      return;   \n    }\n    const category = event.target.textContent;\n    const categoryBtn = event.target\n    const notFound = document.querySelector('.not-found');\n    console.log(category)\n    if (category === 'All') {\n      const { products } = await getProducts();\n      console.log('all',products);\n      \n      renderProducts(products);\n      return;\n    }\n    const { products } = await getProductsByCategory(category);\n    console.log(products.length);\n    \n    if (products.length === 0) {\n      console.log('notFound');\n      notFound.classList.add('not-found--visible');\n      return;\n     };\n    categoryBtn.classList.add('categories__btn--active');\n    //TODO: remove\n    console.log(products);\n    console.log(categoryBtn);\n    \n    renderProducts(products);\n  } catch (error) {\n    console.log(error);\n  }\n}","import { onCategoryClick, onDOMContentLoaded } from './js/handlers';\n\n//Логіка сторінки Home\ndocument.addEventListener('DOMContentLoaded', onDOMContentLoaded);\n\ndocument.addEventListener('click', (onCategoryClick));"],"names":["axios","getCategories","data","getProductsByCategory","category","page","getProducts","refs","renderCategories","categories","markup","renderProducts","products","id","title","thumbnail","brand","price","onDOMContentLoaded","error","onCategoryClick","event","categoryBtn","notFound"],"mappings":"+EAIAA,EAAM,SAAS,QAAU,iCAElB,eAAeC,GAAgB,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,gBAAgB,EACjD,OAAOE,CACT,CAGO,eAAeC,EAAsBC,EAAUC,EAAO,EAAG,CAC9D,KAAM,CAAE,KAAAH,CAAI,EAAK,MAAMF,EAAM,IAC3B,aAAaI,CAAQ,mBAAmBC,EAAO,GAAK,EAAE,EAC1D,EACE,OAAOH,CACT,CAGO,eAAeI,EAAYD,EAAO,EAAG,CAC1C,KAAM,CAAE,KAAAH,CAAI,EAAK,MAAMF,EAAM,IAAI,mBAAmBK,EAAO,GAAK,EAAE,EAAE,EACpE,OAAOH,CACT,CCrBO,MAAMK,EAAO,CAClB,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,EAChD,MAAO,SAAS,cAAc,QAAQ,CACxC,ECFO,SAASC,EAAiBC,EAAY,CAE3C,MAAMC,EADgB,CAAC,MAAO,GAAGD,CAAU,EAExC,IACCL,GAAY;AAAA;AAAA,4DAE0CA,CAAQ;AAAA;AAAA,SAG/D,EACA,KAAK,EAAE,EAEVG,EAAK,eAAe,mBAAmB,YAAaG,CAAM,CAC5D,CAEO,SAASC,EAAeC,EAAU,CACvC,MAAMF,EAASE,EACZ,IACC,CAAC,CAAE,GAAAC,EAAI,MAAAC,EAAO,UAAAC,EAAW,MAAAC,EAAO,SAAAZ,EAAU,MAAAa,CAAK,IAAO;AAAA,+CACbJ,CAAE;AAAA,wCACTE,CAAS,UAAUD,CAAK;AAAA,iCAC/BA,CAAK;AAAA,4EACsCE,CAAK;AAAA,8CACnCZ,CAAQ;AAAA,wCACda,CAAK;AAAA;AAAA,WAGxC,EACA,KAAK,EAAE,EAEVV,EAAK,aAAa,mBAAmB,YAAaG,CAAM,CAC1D,CC9BO,eAAeQ,GAAqB,CACzC,GAAI,CACF,MAAMT,EAAa,MAAMR,IACzBO,EAAiBC,CAAU,EAE3B,KAAM,CAAE,SAAAG,CAAQ,EAAK,MAAMN,IAC3BK,EAAeC,CAAQ,CACxB,OAAQO,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEO,eAAeC,EAAgBC,EAAO,CAC3C,GAAI,CACF,GAAIA,EAAM,OAAO,UAAY,SAC3B,OAEF,MAAMjB,EAAWiB,EAAM,OAAO,YACxBC,EAAcD,EAAM,OACpBE,EAAW,SAAS,cAAc,YAAY,EAEpD,GADA,QAAQ,IAAInB,CAAQ,EAChBA,IAAa,MAAO,CACtB,KAAM,CAAE,SAAAQ,CAAQ,EAAK,MAAMN,IAC3B,QAAQ,IAAI,MAAMM,CAAQ,EAE1BD,EAAeC,CAAQ,EACvB,MACD,CACD,KAAM,CAAE,SAAAA,CAAU,EAAG,MAAMT,EAAsBC,CAAQ,EAGzD,GAFA,QAAQ,IAAIQ,EAAS,MAAM,EAEvBA,EAAS,SAAW,EAAG,CACzB,QAAQ,IAAI,UAAU,EACtBW,EAAS,UAAU,IAAI,oBAAoB,EAC3C,MACN,CACID,EAAY,UAAU,IAAI,yBAAyB,EAEnD,QAAQ,IAAIV,CAAQ,EACpB,QAAQ,IAAIU,CAAW,EAEvBX,EAAeC,CAAQ,CACxB,OAAQO,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CC/CA,SAAS,iBAAiB,mBAAoBD,CAAkB,EAEhE,SAAS,iBAAiB,QAAUE,CAAiB"}