{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["//Логіка сторінки Wishlist\n\nimport { onAddToCartBtnClick, onAddToWishlistBtnClick, onModalCloseBtnClick, onOverlayClick, onProductClick, onSearchFormBtnClearClick, onSearchFormSubmit } from \"./js/handlers\";\nimport { getProductById } from \"./js/products-api\";\nimport { refs } from \"./js/refs\";\nimport { renderProductById, renderProducts } from \"./js/render-function\";\nimport { getFromStorage } from \"./js/storage\";\n\ndocument.addEventListener('DOMContentLoaded', onDOMContentLoaded);\nrefs.productsList.addEventListener('click', (onProductClick));\nrefs.modalCloseBtn.addEventListener('click', onModalCloseBtnClick);\nrefs.modal.addEventListener('click', onOverlayClick);\nrefs.searchForm.addEventListener('submit', onSearchFormSubmit);\nrefs.searchFormBtnClear.addEventListener('click', onSearchFormBtnClearClick);\nrefs.addToCartBtn.addEventListener('click', onAddToCartBtnClick);\nrefs.addToWishlistBtn.addEventListener('click', onAddToWishlistBtnClick);\n\nexport async function onDOMContentLoaded() {\n  \n  const cart = getFromStorage('cart');\n  if (cart) {\n    refs.cartCount.textContent = cart.length;\n  } else {\n    refs.cartCount.textContent = 0;\n  }\n  const wishlist = getFromStorage('wishlist');\n  if (wishlist) {\n    refs.wishlistCount.textContent = wishlist.length;\n  }\n  else {\n    refs.wishlistCount.textContent = 0;\n  }\n  try {\n    const wishlist = getFromStorage('wishlist');\n    console.log(\"wishlist\",wishlist);\n    \n    if (wishlist.length > 0) {\n        const products= wishlist.map(async (id) => {\n          const product = await getProductById(id);\n          return product;\n        });\n        Promise.all(products).then((products) => {\n          renderProducts(products);\n        });\n    //   const products = await getProductById(wishlist);\n    //   console.log(\"whishlist\",products);\n      \n    //   renderProducts(products);\n    } else {\n      refs.productsList.innerHTML = '<p>Wishlist is empty</p>';\n\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}"],"names":["onDOMContentLoaded","refs","onProductClick","onModalCloseBtnClick","onOverlayClick","onSearchFormSubmit","onSearchFormBtnClearClick","onAddToCartBtnClick","onAddToWishlistBtnClick","cart","getFromStorage","wishlist","products","id","getProductById","renderProducts","error"],"mappings":"4JAQA,SAAS,iBAAiB,mBAAoBA,CAAkB,EAChEC,EAAK,aAAa,iBAAiB,QAAUC,CAAc,EAC3DD,EAAK,cAAc,iBAAiB,QAASE,CAAoB,EACjEF,EAAK,MAAM,iBAAiB,QAASG,CAAc,EACnDH,EAAK,WAAW,iBAAiB,SAAUI,CAAkB,EAC7DJ,EAAK,mBAAmB,iBAAiB,QAASK,CAAyB,EAC3EL,EAAK,aAAa,iBAAiB,QAASM,CAAmB,EAC/DN,EAAK,iBAAiB,iBAAiB,QAASO,CAAuB,EAEhE,eAAeR,GAAqB,CAEzC,MAAMS,EAAOC,EAAe,MAAM,EAC9BD,EACFR,EAAK,UAAU,YAAcQ,EAAK,OAElCR,EAAK,UAAU,YAAc,EAE/B,MAAMU,EAAWD,EAAe,UAAU,EACtCC,EACFV,EAAK,cAAc,YAAcU,EAAS,OAG1CV,EAAK,cAAc,YAAc,EAEnC,GAAI,CACF,MAAMU,EAAWD,EAAe,UAAU,EAG1C,GAFA,QAAQ,IAAI,WAAWC,CAAQ,EAE3BA,EAAS,OAAS,EAAG,CACrB,MAAMC,EAAUD,EAAS,IAAI,MAAOE,GAClB,MAAMC,EAAeD,CAAE,CAExC,EACD,QAAQ,IAAID,CAAQ,EAAE,KAAMA,GAAa,CACvCG,EAAeH,CAAQ,CACjC,CAAS,CAKT,MACMX,EAAK,aAAa,UAAY,0BAGjC,OAAQe,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH"}